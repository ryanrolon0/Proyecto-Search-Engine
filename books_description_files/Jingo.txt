With the opening of the novel, the island of Leshp, which had been submerged under the Circle Sea for centuries, rises to the surface. Its position, exactly halfway between Ankh-Morpork and Al Khali (the capital of Klatch), makes the island a powerful strategical point for whoever lays claim to it, which both cities do. In Ankh-Morpork, a Klatchian Prince named Khufurah is parading through Ankh-Morpork, where he will be presented with a Degree in Sweet Fanny Adams (Doctorum Adamus cum Flabello Dulci), but an assassination attempt occurs, and the Prince is wounded. Sir Samuel Vimes, Commander of the Ankh-Morpork City Watch, begins investigating the crime, originally suspecting both a Klatchian named 71-Hour Ahmed and a senior Morporkian peer, Lord Rust, of being involved. The attempted assassination breaks off relations between Ankh-Morpork and Klatch as Prince Khufurah's brother effectively declares war on the city of Ankh-Morpork. At this point, Havelock Vetinari, Patrician of Ankh-Morpork, resigns—apparently of his own free will—and Lord Rust takes command of the city. Vetinari has refused to become involved in the war with Klatch, due to the fact Ankh-Morpork does not have an army to stand against any opposing forces (the reason given being that killing enemy soldiers makes it difficult to sell them things afterwards), but Rust declares Martial law and orders the city's noble families to revive their old private regiments. Vimes, refusing to follow Rust (whom he considers to be a pillock) stands down as Commander of the Watch. Captain Carrot resigns as well, as do Sergeant Colon, Sergeant Detritus and Corporal Angua. The idea of putting the watch under the command of Corporal Nobbs is rejected by the ruling Council of Guild leaders and the Watch is disbanded. Vimes then recruits the Watch into his own private army regiment, reasoning that, as an official noble, he is entitled to do so by law and by Lord Rust's command, with the group remaining independent as knights legally fall under command of the king or his duly-appointed representatives, neither of which exist in Ankh-Morpork. Angua, following 71-Hour Ahmed, is captured by the Klatchians and taken to Klatch. Carrot, rather than rush off to save her, reports back to Vimes, who gets his private army to head for Klatch. Meanwhile, Nobby and Sergeant Colon have been recruited by Vetinari and his pet inventor, Leonard of Quirm, on a secret mission of their own, unknown to Vimes. Vetinari, Leonard of Quirm, Colon, and Nobby end up in Leonard's "Going-Under-the-Water-Safely Device" and discover that Leshp is actually floating on top of a huge bubble of gas (suggested to be methane or some other poisonous gas), and that the gas is escaping from said bubble, meaning that Leshp will, ultimately, sink back under the sea again. Vimes catches up with 71-hour Ahmed and has, by this time, figured out that Ahmed is a fellow policeman. Ahmed and his band of Klatchian D'regs and Vimes army head towards Gebra, in Klatch, where the war is due to start. To help blend in, Vetinari, Nobby and Fred Colon get hold of some Klatchian clothing, though Nobby ends up wearing the costume of a dancing girl and gets in touch with his feminine side. The three also head to Gebra. Arriving at Gebra they discover that Carrot has convinced the two armies to get together and play a game of football (he has an inflatable football in his backpack for just such an emergency), Vimes is preparing to arrest the Klatchian Prince and Lord Rust for various breaches of the peace (such as being prepared for war) and 71-hour Ahmed is supporting him. Vetinari prevents an international incident by ostensibly declaring the surrender of Ankh-Morpork and offering war reparations. Vetinari is returned to Ankh-Morpork, under arrest and in disgrace, but as Leshp has vanished back under the sea again, the treaty was to be signed in a non-existent territory and thus the charge of treason is invalid. Sam Vimes is informed that Vetinari has been "reminded" that the old rank of Commander was the same as the old rank of Duke. He objects, claiming that only a King can make a Duke, but then realises that Carrot was speaking to Vetinari. Since Carrot is, of course, very much not the King of Ankh-Morpork his reminding of Vetinari is all that is required for Vimes to get his new position and rank. Vimes "accidentally" loses his "dis-organiser" (given to him by his wife) which kept giving him incorrect information. It is explained that, had Vimes reacted slightly differently in the beginning- staying in Ankh-Morpork rather than attempting to follow Ahmed and rescue Angua-, the whole history of the Ankh-Morpork VS Klatch war would have gone very differently. The dis-organiser meets Death at the end, but Death rejects it. Instead, he drops it into the sea, and it is swallowed by a shark where it may not have the most interesting calendar of events to deal with, but at least it finds things easy to organise.