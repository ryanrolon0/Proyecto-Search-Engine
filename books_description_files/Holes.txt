At the beginning of the story, Stanley, a teenage boy who is supposedly affected by a family "curse", has been wrongly accused of stealing the shoes of the baseball player from a charity auction. As punishment for this crime he was given a choice to either go to jail or Camp Green Lake, a juvenile detention and correctional facility where convicts of similar age are forced to dig holes to "build their character". Warden Walker, real granddaughter of Trout Walker, is actually looking for a buried treasure that outlaw Katherine "Kissin' Kate" Barlow stole from Stanley's great-grandfather. Years ago, Stanley's family got cursed by Madame Zeroni, a fortune-teller and ancestor, due to a promise not fulfilled by Elya Yelnats, Stanley's great-great-grandfather, more popularly known in the novel as a "no-good-dirty-rotten-pig-stealing great-great-grandfather". Later in the story, Zero had been living on jars of very old spiced peaches that he had found in the boat, which he called "Sploosh". Upon seeing a mountain resembling a human fist giving the thumbs up sign, Stanley recalls the story of his ancestor Stanley Yelnats I, who finds "refuge on God’s thumb", which Zero and Stanley climb in search of water. Atop the river, Stanley discovers a field of onions, which the boys eat, and a pool of groundwater, which they drink, and during their contentment Stanley sings to Zero that they should return to Camp Green Lake to find the buried treasure. Upon returning, Zero steals some water and food from the kitchens while Stanley looks for the buried treasure. At this they succeed, but are apprehended by the Warden and the camp staff, and become surrounded by a group of lethal yellow-spotted lizards. Because the boys have consumed onions, the lizards do not bite them. Unable to leave the hole they occupy, they remain in place until the next morning, during which an attorney arrives requesting Stanley’s release. When the warden demands the suitcase, Zero indicates the name ‘Stanley Yelnats’ written on it, its contents being the jewels, deeds, stocks and promissory notes stolen from Stanley Yelnats the first. Protagonist Stanley IV then uses the bonds to buy a new house for his family, and Zero hires a team of investigators to find his missing mother; meanwhile, the drought at Green Lake is replaced by rainfall, as if in response to Stanley's fulfilment of his ancestor's promise (a suggestion left purposely ambiguous by the narration). In a final scene, Clyde Livingston, along with the Yelnats and Zeroni families, celebrates the success of Stanley’s father's antidote to foot odor, composed of preserved and fermented spiced peaches and named "Sploosh" by Zero. The warden is forced to sell Camp Green Lake to the state government, who turns it into a Girl Scout camp, a coincidence since Mr. Sir, a head of the camp, told the campers that "this isn't a Girl Scout camp", referring to the backbreaking digging.