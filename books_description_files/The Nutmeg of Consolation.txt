The Nutmeg of Consolation opens with Aubrey and his crew shipwrecked on a remote island in the South China Sea after surviving the destruction of HMS Diane in a typhoon. A cricket match is taking place between the sailors and marines - an attempt by the Captain to keep up the crew's spirits as they build the schooner needed for reaching Batavia. Stephen Maturin is also proving his worth by killing game for the pot, particularly wild boar and babirussas. The island is visited by two seafaring Dyaks who seem very interested in everything within the sailors' encampment, especially Jack's silver that Killick deliberately rescued from the Diane. The Dyaks promise to take a message to Batavia in exchange for twenty "joes" (Portuguese Johanna coins), but instead return in a seagoing proa. After killing and beheading the ship's carpenter and some other crew members, they attack the encampment and burn the schooner, but are routed after a bloody conflict and their proa sunk by the last remaining ball from the captain's "long nine" gun. Whilst Stephen is out hunting, he chances upon four Chinese children collecting birds' nests from the surrounding cliffs, when one of the boys is injured. They inform him their junk is on its way to Batavia to fetch a cargo of ore from Ketapan in Borneo. After Stephen treats the boy, the children's father, Li Po, is persuaded to carry the remaining crew of the Diane in the empty holds of his roomy junk back to Batavia. It is intercepted by a pirate canoe, but it belongs to Wan Da, whom Stephen knows well from Prabang. Upon arriving in Batavia, Aubrey is provided by Sir Stamford Raffles with a 20-gun ship which Aubrey renames Nutmeg of Consolation after one of the titles of the Sultan of Pulo Prabang, from the previous novel, The Thirteen Gun Salute. Back at sea, Aubrey hears from a Dutch merchantman that a French frigate, the Cornelie is watering at an island, Nil Desperandum. Aubrey attempts to disguise the Nutmeg as another Dutch merchantman and, on being smoked, engages in battle with the Cornelie but then has to turn tail. With the slower Cornelie in pursuit, Jack attempts to outwit her in the Salibabu Passage but is outmanoeuvred and nearly outgunned until, at the height of the chase, Nutmeg encounters the Surprise, under the temporary command of Commander Thomas Pullings, accompanied by the Triton, a British privateer. The Surprise and Nutmeg give chase but the Cornelie soon founders and the survivors, including Dumesnil, a French officer Jack and Stephen had met previously, and a third-lieutenant, are taken on board. Resuming command of Surprise, Aubrey and Maturin continue their interrupted journey to New South Wales. On their way to Australia, Maturin rescues two young Melanesian girls, the sole survivors of an outbreak of smallpox brought by a South Seas whaler to the remote Sweeting's Island. Once in New South Wales the book contains graphic descriptions of the life in the penal colony under Governor Lachlan Macquarie shortly after the "Rum Rebellion" of the New South Wales Corps and its coup against Governor William Bligh. Stephen attends at formal dinner, hosted by Mrs Macquarie and the Governor's deputy, Colonel McPherson, at Government House. After hearing the name of Sir Joseph Banks insulted, and being insulted himself, he fights and wins a duel against a Captain Lowe. Stephen and Martin tour the countryside examining the local flora and fauna and collecting specimens. They make their way to the Hunter Valley to stay with Paulton, and Maturin is reunited with his former assistant Padeen Colman at Woolloo-Woolloo. The Irishman was convicted for stealing laudanum from an Edinburgh apothecary and, after being flogged with 200 lashes for absconding from the penal settlement, was transferred to Paulton's farm after Maturin bribed a local clerk. Stephen makes plans to have him transferred secretly to the Surprise but his plans are checked by Jack. Maturin also hears from an officer of the recently arrived Waverley that his wife Diana has borne him a daughter. Stephen and Martin, keen to have one more look for the elusive duck-billed platypus (Ornithorhynchus paradoxus) or 'water-mole', are taken on a final expedition in the Surprises cutter by Barret Bonden. Stephen has also secretly arranged to rendezvous with Colman at Bird Island but, as they arrive early, he and Martin search the local pools and spot two platypuses. Stephen manages to secure one - a male - in his net but his arm is pierced by its two poison-spurs. He, along with Padeen, are taken back to the frigate and to everyone's relief Stephen slowly regains consciousness once he is back on board.