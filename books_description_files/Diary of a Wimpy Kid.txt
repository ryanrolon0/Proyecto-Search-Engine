As Greg Heffley is getting ready for middle school, he is teased by his older brother Rodrick Heffley because his mom, Susan Heffley, bought him supplies for school, including a blank red diary,instead of his mom buying him a journal like he asked her to. He has a little brother, Manny who is "spoiled rotten" because he gets everything he wants and also gets away with everything he does wrong, unlike Greg, who gets in trouble for everything he does wrong. His father Frank Heffley does not encourage Greg's way of life - playing video games all day - rather than going outside and playing sports. Greg, during the first day of school, is immediately rejected and is forced to sit with another outcast who lives near Greg, Fregley, from whom Greg tries to keep "a safe distance". He is initially unsure of Rowley Jefferson being able to fit in, and tries to change Rowley, who Greg considers immature. Greg and Rowley decide to participate in wrestling at school, although Greg quits after losing a match against Fregley. On Halloween, Greg and Rowley go trick-or-treating, but are challenged by there of teens who they irritate and enrage and spray them with a fire extinger. The two friends barely escape to safety so they decide to go and stay in Gregs grandmother's house until the teens leave them alone. After getting few presents for Christmas, Greg decides to play a game with Rowley in which Rowley must ride a Big Wheel while Greg tries to knock him off. On one of Greg's tries, the ball gets under the front wheel, which causes Rowley to fall off and break his arm. The next day, a bunch of girls crowd around Rowley so they could feed him. Greg and Rowley decide to enroll in the Safety program in which they walk younger kids to their homes. One day, as Greg is walking the kids by himself,he chases the young children, only after scaring them with a stick with worms on it. A neighbor contacts the school and tells them about Greg's unusual behavior. The principal suspects Rowley, as Greg was wearing Rowley's coat. Rowley is quickly fired. Greg initially wants to tell him it is his fault that he was fired, but doesn't, only to let the truth slip later. This leads to Rowley breaking off his friendship with Greg. Greg tries to befriend Fregley to make Rowley jealous, although he is uncomfortable around Fregley. Resorting to auditioning for the school play (based on The Wizard of Oz) Greg lands the role as a tree, while Patty is cast as Dorothy, the protagonist of the novel. During the show's opening performance, Rodrick unexpectedly brings a camera to film the play. Greg becomes too nervous to sing, confusing the other "trees" who also fail to sing. Patty gets frustrated and angers Greg, who then throws props at Patty, and then everyone gets in the fight, ending the play in chaos. Rowley confronts Greg, which leads to a non-physical fight. The teens return and the younger kids scatter. The teens force Greg and Rowley to eat the "Cheese Touch," a moldy piece of cheese that had been left on the grounds of the school. Greg refuses, dishonestly claiming that he is allergic to cheese and will die if he eats it, thus leaving Rowley to eat it. The other students notice that the Cheese is gone, assuming that someone has destroyed it; however, Greg takes the blame instead of Rowley as he feels pity on him. He and Rowley again become friends and Greg begins to anticipate a relaxing summer of playing video games.