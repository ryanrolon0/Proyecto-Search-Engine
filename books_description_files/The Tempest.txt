The magician Prospero, rightful Duke of Milan, and his daughter, Miranda, have been stranded for twelve years on an island after Prospero's jealous brother Antonio (helped by Alonso, the King of Naples) deposed him and set him adrift with the then-3-year-old Miranda. Gonzalo, the King's counsellor, had secretly supplied their boat with plenty of food, water, clothes and the most-prized books from Prospero's library. Possessing magic powers due to his great learning, Prospero is reluctantly served by a spirit, Ariel, whom Prospero had rescued from a tree in which he had been trapped by the witch Sycorax. Prospero maintains Ariel's loyalty by repeatedly promising to release the "airy spirit" from servitude. Sycorax had been banished to the island, and had died before Prospero's arrival. Her son, Caliban, a deformed monster and the only non-spiritual inhabitant before the arrival of Prospero, was initially adopted and raised by him. He taught Prospero how to survive on the island, while Prospero and Miranda taught Caliban religion and their own language. Following Caliban's attempted rape of Miranda, he had been compelled by Prospero to serve as the magician's slave. In slavery, Caliban has come to view Prospero as a usurper and has grown to resent him and his daughter. Prospero and Miranda in turn view Caliban with contempt and disgust. The play opens as Prospero, having divined that his brother, Antonio, is on a ship passing close by the island, has raised a tempest which causes the ship to run aground. Also on the ship are Antonio's friend and fellow conspirator, King Alonso of Naples, Alonso's brother and son (Sebastian and Ferdinand), and Alonso's advisor, Gonzalo. All these passengers are returning from the wedding of Alonso's daughter Claribel with the King of Tunis. Prospero contrives to separate the shipwreck survivors into several groups by his spells, and so Alonso and Ferdinand are separated, each believing the other to be dead. Three plots then alternate through the play. In one, Caliban falls in with Stephano and Trinculo, two drunkards, whom he believes to have come from the moon. They attempt to raise a rebellion against Prospero, which ultimately fails. In another, Prospero works to establish a romantic relationship between Ferdinand and Miranda; the two fall immediately in love, but Prospero worries that "too light winning [may] make the prize light", and compels Ferdinand to become his servant, pretending that he regards him as a spy. In the third subplot, Antonio and Sebastian conspire to kill Alonso and Gonzalo so that Sebastian can become King. They are thwarted by Ariel, at Prospero's command. Ariel appears to the "three men of sin" (Alonso, Antonio and Sebastian) as a harpy, reprimanding them for their betrayal of Prospero. Prospero manipulates the course of his enemies' path through the island, drawing them closer and closer to him. In the conclusion, all the main characters are brought together before Prospero, who forgives Alonso. He also forgives Antonio and Sebastian, but warns them against further betrayal. Ariel is charged to prepare the proper sailing weather to guide Alonso and his entourage (including Prospero and Miranda) back to the Royal fleet and then to Naples, where Ferdinand and Miranda will be married. After discharging this task, Ariel will finally be free. Prospero pardons Caliban, who is sent to prepare Prospero's cell, to which Alonso and his party are invited for a final night before their departure. Prospero indicates that he intends to entertain them with the story of his life on the island. Prospero has resolved to break and bury his magic staff, and "drown" his book of magic, and in his epilogue, shorn of his magic powers, he invites the audience to set him free from the island with their applause.